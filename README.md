# run-test

A tool that runs microservices and their dependent services. These services are generated by docker-compose and can run on linux, max, windows 10, windows 7, etc.

## Getting Started

Download
```
$ git clone https://gitlab.p2shop.cn:8443/qa/run-test.git
```

Run
```
$ ./run-test serviceName
```

## Help
You can see the help file here
```
.\run-test.exe -h
```

```bash
usage: run-test.exe [<flags>] [<name>]

A tool that runs microservices and its dependencies.

Flags:
  -h, --help                   Show context-sensitive help (also try --help-long
                               and --help-man).
  -u, --updated="remote"       data from [local remote].
  -l, --list                   Show all names from mingbai api.
      --ip=IP                  IP address to connect internet.
      --image-env="qa"         image env [qa prd].
      --mysql-port="3306"      set port mysql.
      --redis-port="6379"      set port redis.
      --mongo-port="27017"     set port mongo.
      --sqlserver-port="1433"  set port sqlserver.
      --kafka-port="9092"      set port kafka.
      --kafka-second-port="29092"
                               set port kafka-second.
      --event-broker-port="3000"
                               set port event-broker.
      --nginx-port="3001"      set port nginx.
      --zookeeper-port="2181"  set port zookeeper.
  -v, --version                Show application version.

Args:
  [<name>]  name from mingbai api.
```


## References

- mysql tool: [mysql](https://github.com/go-sql-driver/mysql)
- kafka tool: [kafka-go](github.com/segmentio/kafka-go)
- host tool : [goodhosts](github.com/lextoumbourou/goodhosts)
- configuration tool: 
  - [viper](https://github.com/spf13/viper) 
  - [yaml](github.com/ghodss/yaml)
  - [kingpin](github.com/alecthomas/kingpin)
- validator: [govalidator](github.com/asaskevich/govalidator)
- utils: https://github.com/pangpanglabs/goutils
