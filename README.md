# run-test-container

A tool that runs microservices and their dependent services. These services are generated by docker-compose and can docker on linux, mac, windows 10, windows 7, etc.

## Getting Started

### Preparation

set etc/hosts: < your ip> like 10.202.101.43
```
<your ip> test-kafka
```
### Download
```
$ wait ...
```

### Start
```
$ ./run-test-container run go-api
```

### Service find
You can find all the servcies and support fuzzy queries.
```
$ ./run-test-container ls
offer-api
catalog
ipay-api
go-api
inventories-api
inventories-csl-adapter
```
```
$ ./run-test-container ls in
inventories-api
inventories-csl-adapter
```


## log
https://job-monitor.p2shop.com.cn/#/

service: rtc

## Help

```bash
$ .\run-test-container.exe run -h
$ .\run-test-container.exe -h
$ .\run-test-container.exe ls -h
```

## version

```bash
$ go build -ldflags "-X 'main.Version=v2.0 $(git rev-parse --short HEAD) $(date -u '+%Y-%m-%d %H:%M:%S')'"
$ ./run-test-container -v
v2.0 74c0659 2019-07-16 02:08:34
```


## References

- mysql tool: [mysql](https://github.com/go-sql-driver/mysql)
- kafka tool: [kafka-go](github.com/segmentio/kafka-go)
- host tool : [goodhosts](github.com/lextoumbourou/goodhosts)
- configuration tool: 
  - [viper](https://github.com/spf13/viper) 
  - [yaml](github.com/ghodss/yaml)
  - [kingpin](github.com/alecthomas/kingpin)
- wait-for: [wait-for](https://github.com/Eficode/wait-for)
- utils: https://github.com/pangpanglabs/goutils
